{% extends 'admin_base.html' %}
{% block content %}
<div class="max-w-7xl mx-auto py-8">

  <!-- ðŸ§­ Header / Hero Section -->
  <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-10">
    <div>
      <h2 class="text-3xl font-bold text-slate-800 tracking-tight">
        Dashboard
      </h2>
      <p class="text-slate-500 mt-1">Overview of your organizationâ€™s activity.</p>
    </div>

    <!-- ðŸ”˜ Quick Actions -->
    <div class="flex items-center gap-3 mt-4 md:mt-0">
      <a href="{% url 'chat_view' %}"
        class="inline-flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium px-5 py-2.5 rounded-lg shadow-sm transition-colors duration-200">
        <i class="fas fa-comment-dots"></i> Open Chatbot
      </a>
    </div>
  </div>

  <!-- ðŸ“Š Organization Overview Cards -->
  <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-12">

    <!-- Total Users -->
    <div
      class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow duration-200">
      <div class="flex items-center justify-between mb-4">
        <div class="w-12 h-12 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center text-xl">
          <i class="fas fa-users"></i>
        </div>
        <span class="text-xs font-semibold text-slate-400 uppercase tracking-wider">Total</span>
      </div>
      <p class="text-3xl font-bold text-slate-800">{{ total_users }}</p>
      <p class="text-sm text-slate-500 mt-1">Registered Users</p>
    </div>

    <!-- Org Admins -->
    <div
      class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow duration-200">
      <div class="flex items-center justify-between mb-4">
        <div class="w-12 h-12 rounded-xl bg-purple-50 text-purple-600 flex items-center justify-center text-xl">
          <i class="fas fa-user-shield"></i>
        </div>
        <span class="text-xs font-semibold text-slate-400 uppercase tracking-wider">Admins</span>
      </div>
      <p class="text-3xl font-bold text-slate-800">{{ admin_users }}</p>
      <p class="text-sm text-slate-500 mt-1">Organization Admins</p>
    </div>

    <!-- Staff -->
    <div
      class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow duration-200">
      <div class="flex items-center justify-between mb-4">
        <div class="w-12 h-12 rounded-xl bg-green-50 text-green-600 flex items-center justify-center text-xl">
          <i class="fas fa-user-tie"></i>
        </div>
        <span class="text-xs font-semibold text-slate-400 uppercase tracking-wider">Staff</span>
      </div>
      <p class="text-3xl font-bold text-slate-800">{{ staff_users }}</p>
      <p class="text-sm text-slate-500 mt-1">Managers & Leads</p>
    </div>

    <!-- Regular -->
    <div
      class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow duration-200">
      <div class="flex items-center justify-between mb-4">
        <div class="w-12 h-12 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center text-xl">
          <i class="fas fa-user"></i>
        </div>
        <span class="text-xs font-semibold text-slate-400 uppercase tracking-wider">Employees</span>
      </div>
      <p class="text-3xl font-bold text-slate-800">{{ regular_users }}</p>
      <p class="text-sm text-slate-500 mt-1">Standard Access</p>
    </div>
  </div>

  <!-- âš™ï¸ Management Grid -->
  <h3 class="text-lg font-bold text-slate-800 mb-6 flex items-center gap-2">
    Quick Actions
  </h3>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">

    <a href="{% url 'manage_employees' %}"
      class="group bg-white p-6 rounded-2xl border border-slate-200 hover:border-indigo-500 hover:ring-1 hover:ring-indigo-500 transition-all duration-200 shadow-sm hover:shadow-md">
      <div
        class="w-10 h-10 rounded-lg bg-indigo-100 text-indigo-600 flex items-center justify-center mb-4 group-hover:bg-indigo-600 group-hover:text-white transition-colors">
        <i class="fas fa-users-cog"></i>
      </div>
      <h4 class="font-semibold text-slate-800 group-hover:text-indigo-600 transition-colors">Manage Employees</h4>
      <p class="text-sm text-slate-500 mt-2">View, edit, and manage access for all employees.</p>
    </a>

    <a href="{% url 'add_employee' %}"
      class="group bg-white p-6 rounded-2xl border border-slate-200 hover:border-indigo-500 hover:ring-1 hover:ring-indigo-500 transition-all duration-200 shadow-sm hover:shadow-md">
      <div
        class="w-10 h-10 rounded-lg bg-purple-100 text-purple-600 flex items-center justify-center mb-4 group-hover:bg-purple-600 group-hover:text-white transition-colors">
        <i class="fas fa-user-plus"></i>
      </div>
      <h4 class="font-semibold text-slate-800 group-hover:text-purple-600 transition-colors">Add Employee</h4>
      <p class="text-sm text-slate-500 mt-2">Onboard new team members to the organization.</p>
    </a>

    {% if request.user.role == 'org_admin' %}
    <a href="{% url 'manage_org_admins' %}"
      class="group bg-white p-6 rounded-2xl border border-slate-200 hover:border-indigo-500 hover:ring-1 hover:ring-indigo-500 transition-all duration-200 shadow-sm hover:shadow-md">
      <div
        class="w-10 h-10 rounded-lg bg-pink-100 text-pink-600 flex items-center justify-center mb-4 group-hover:bg-pink-600 group-hover:text-white transition-colors">
        <i class="fas fa-shield-alt"></i>
      </div>
      <h4 class="font-semibold text-slate-800 group-hover:text-pink-600 transition-colors">Manage Admins</h4>
      <p class="text-sm text-slate-500 mt-2">Control administrative access privileges.</p>
    </a>
    {% endif %}

    <a href="{% url 'manage_policies' %}"
      class="group bg-white p-6 rounded-2xl border border-slate-200 hover:border-indigo-500 hover:ring-1 hover:ring-indigo-500 transition-all duration-200 shadow-sm hover:shadow-md">
      <div
        class="w-10 h-10 rounded-lg bg-teal-100 text-teal-600 flex items-center justify-center mb-4 group-hover:bg-teal-600 group-hover:text-white transition-colors">
        <i class="fas fa-file-contract"></i>
      </div>
      <h4 class="font-semibold text-slate-800 group-hover:text-teal-600 transition-colors">Policies</h4>
      <p class="text-sm text-slate-500 mt-2">Upload and verify HR policy documents.</p>
    </a>
  </div>
</div>
{% endblock %}