{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Project Harvey Admin</title>

  <!-- TailwindCSS -->
  {% tailwind_css %}

  <!-- FontAwesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <style>
    body {
      font-family: 'Inter', sans-serif;
    }

    .hero-pattern {
      background-color: #0f172a;
      background-image:
        radial-gradient(at 0% 0%, hsla(253, 16%, 7%, 1) 0, transparent 50%),
        radial-gradient(at 50% 0%, hsla(225, 39%, 30%, 1) 0, transparent 50%),
        radial-gradient(at 100% 0%, hsla(339, 49%, 30%, 1) 0, transparent 50%);
    }

    .glass-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .sidebar {
      transition: all 0.3s ease;
      background: rgba(15, 23, 42, 0.9);
      backdrop-filter: blur(15px);
      border-right: 1px solid rgba(255, 255, 255, 0.05);
    }

    .sidebar a.active {
      background: rgba(79, 70, 229, 0.15);
      color: #818cf8;
      border-right: 4px solid #4f46e5;
    }

    .sidebar a:hover:not(.active) {
      background: rgba(255, 255, 255, 0.05);
      color: white;
    }
  </style>
</head>

<body class="hero-pattern text-white min-h-screen">
  <!-- Sidebar + Main Layout -->
  <div class="flex min-h-screen">

    <!-- Sidebar -->
    <aside class="sidebar w-64 flex flex-col justify-between shrink-0">
      <div>
        <div class="p-8 border-b border-white/5">
          <div class="flex items-center gap-3 mb-4">
            <div class="h-8 w-8 bg-indigo-600 rounded flex items-center justify-center shadow-lg shadow-indigo-500/20">
              <i class="fas fa-robot text-white text-sm"></i>
            </div>
            <h2
              class="text-xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400">
              Harvey Admin</h2>
          </div>
          <p class="text-xs text-indigo-300/70 uppercase tracking-widest font-semibold">User:
            {{ user.username }}</p>
        </div>

        <nav class="mt-8">
          <ul class="space-y-2 px-3">
            <li>
              <a href="{% url 'admin_dashboard' %}"
                class="flex items-center px-4 py-3 rounded-xl transition-all duration-200 group {% if request.resolver_match.url_name == 'admin_dashboard' %}active text-white{% else %}text-gray-400{% endif %}">
                <i class="fas fa-chart-line mr-3 transition-transform group-hover:scale-110"></i>
                <span class="font-medium">Dashboard</span>
              </a>
            </li>
            <li>
              <a href="{% url 'manage_employees' %}"
                class="flex items-center px-4 py-3 rounded-xl transition-all duration-200 group {% if request.resolver_match.url_name == 'manage_employees' %}active text-white{% else %}text-gray-400{% endif %}">
                <i class="fas fa-users mr-3 transition-transform group-hover:scale-110"></i>
                <span class="font-medium">Employees</span>
              </a>
            </li>
            <li>
              <a href="{% url 'chat_view' %}"
                class="flex items-center px-4 py-3 rounded-xl text-gray-400 hover:text-white transition-all duration-200 group">
                <i class="fas fa-robot mr-3 transition-transform group-hover:scale-110"></i>
                <span class="font-medium">Chatbot</span>
              </a>
            </li>
            <li>
              <a href="{% url 'manage_policies' %}"
                class="flex items-center px-4 py-3 rounded-xl transition-all duration-200 group {% if request.resolver_match.url_name == 'manage_policies' %}active text-white{% else %}text-gray-400{% endif %}">
                <i class="fas fa-file-alt mr-3 transition-transform group-hover:scale-110"></i>
                <span class="font-medium">Policies</span>
              </a>
            </li>
          </ul>
        </nav>
      </div>

      <!-- Footer -->
      <div class="p-6 border-t border-white/5 space-y-4">
        <form method="POST" action="{% url 'logout' %}">
          {% csrf_token %}
          <button type="submit"
            class="flex items-center gap-2 text-sm text-gray-400 hover:text-red-400 transition-colors w-full px-4">
            <i class="fas fa-power-off"></i>
            Logout
          </button>
        </form>
        <div class="px-4">
          <p class="text-[10px] text-gray-500 uppercase tracking-widest">&copy; 2025 Harvey HR</p>
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 p-8 overflow-y-auto relative">
      <div class="absolute inset-0 bg-indigo-500/5 pointer-events-none"></div>
      <div class="relative z-10 max-w-7xl mx-auto">
        {% block content %}
        <!-- Page content gets injected here -->
        {% endblock %}
      </div>
    </main>
  </div>
</body>

</html>